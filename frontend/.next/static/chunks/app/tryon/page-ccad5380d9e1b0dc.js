(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[889],{5331:function(e,t,a){Promise.resolve().then(a.bind(a,3360))},3360:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return u}});var s=a(7437),r=a(2265),l=a(3365);let n=r.forwardRef(function(e,t){let{title:a,titleId:s,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},l),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607ZM13.5 10.5h-6"}))}),i=r.forwardRef(function(e,t){let{title:a,titleId:s,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},l),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607ZM10.5 7.5v6m3-3h-6"}))}),c=r.forwardRef(function(e,t){let{title:a,titleId:s,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},l),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 15 3 9m0 0 6-6M3 9h12a6 6 0 0 1 0 12h-3"}))}),d=r.forwardRef(function(e,t){let{title:a,titleId:s,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},l),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}),o=r.forwardRef(function(e,t){let{title:a,titleId:s,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},l),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}),m=r.forwardRef(function(e,t){let{title:a,titleId:s,...l}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},l),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75"}))});var x=a(7648);function u(){let[e,t]=(0,r.useState)(null),[a,u]=(0,r.useState)([]),[h,p]=(0,r.useState)(1),[g,j]=(0,r.useState)({x:0,y:0}),[f,b]=(0,r.useState)("all"),[v,N]=(0,r.useState)(!1),w=(0,r.useRef)(null),y=(0,r.useRef)(null),k=[{id:"1",name:"甜美花朵洋裝",category:"dress",style:"sweet",image:"/images/dress-1.jpg",price:1299},{id:"2",name:"優雅職場襯衫",category:"top",style:"elegant",image:"/images/shirt-1.jpg",price:899},{id:"3",name:"高腰A字短裙",category:"bottom",style:"sweet",image:"/images/skirt-1.jpg",price:699},{id:"4",name:"牛仔外套",category:"outer",style:"street",image:"/images/jacket-1.jpg",price:1899},{id:"5",name:"針織上衣",category:"top",style:"elegant",image:"/images/knit-1.jpg",price:799},{id:"6",name:"破洞牛仔褲",category:"bottom",style:"street",image:"/images/jeans-1.jpg",price:1299}],C=(0,r.useCallback)(e=>{e.preventDefault()},[]),D=(0,r.useCallback)(e=>{e.preventDefault();let a=e.dataTransfer.files;if(a.length>0){let e=a[0],s=new FileReader;s.onload=e=>{var a;t(null===(a=e.target)||void 0===a?void 0:a.result)},s.readAsDataURL(e)}},[]),E=e=>{u(t=>"outer"!==e.category?[...t.filter(t=>t.category!==e.category),e]:[...t,e])},L=e=>{u(t=>t.filter(t=>t.id!==e))},M="all"===f?k:k.filter(e=>e.category===f),R=a.reduce((e,t)=>e+t.price,0);return(0,s.jsxs)("div",{className:"min-h-screen bg-neutral-cream",children:[(0,s.jsx)("header",{className:"bg-white shadow-sm border-b border-neutral-light",children:(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)(x.default,{href:"/",className:"text-primary-600 hover:text-primary-700 font-semibold",children:"← 返回首頁"}),(0,s.jsx)("div",{className:"w-px h-6 bg-neutral-light"}),(0,s.jsx)("h1",{className:"text-xl font-semibold text-neutral-dark",children:"虛擬試穿室"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[a.length>0&&(0,s.jsxs)("div",{className:"text-sm text-neutral-medium",children:["總價: ",(0,s.jsxs)("span",{className:"font-semibold text-primary-600",children:["NT$ ",R.toLocaleString()]})]}),(0,s.jsxs)("button",{onClick:()=>{N(!0),setTimeout(()=>{N(!1),alert("穿搭已儲存到我的最愛!")},1500)},disabled:0===a.length||v,className:"bg-primary-500 text-white px-4 py-2 rounded-lg font-medium hover:bg-primary-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[(0,s.jsx)(l.Z,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:v?"儲存中...":"儲存穿搭"})]})]})]})})}),(0,s.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-6",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,s.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[(0,s.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-morandi",children:[(0,s.jsx)("h3",{className:"font-semibold text-neutral-dark mb-3",children:"服裝分類"}),(0,s.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-1 gap-2",children:[{value:"all",label:"全部",icon:"\uD83D\uDC57"},{value:"top",label:"上衣",icon:"\uD83D\uDC55"},{value:"bottom",label:"下身",icon:"\uD83D\uDC56"},{value:"dress",label:"洋裝",icon:"\uD83D\uDC57"},{value:"outer",label:"外套",icon:"\uD83E\uDDE5"}].map(e=>(0,s.jsxs)("button",{onClick:()=>b(e.value),className:"flex items-center space-x-2 px-3 py-2 rounded-lg text-sm transition-colors\n                      ".concat(f===e.value?"bg-primary-500 text-white":"bg-neutral-cream hover:bg-primary-50 text-neutral-dark"),children:[(0,s.jsx)("span",{children:e.icon}),(0,s.jsx)("span",{children:e.label})]},e.value))})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-morandi",children:[(0,s.jsx)("h3",{className:"font-semibold text-neutral-dark mb-3",children:"選擇服裝"}),(0,s.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:M.map(e=>(0,s.jsxs)("div",{onClick:()=>E(e),className:"flex items-center space-x-3 p-3 rounded-lg border border-neutral-light hover:border-primary-300 hover:bg-primary-50 cursor-pointer transition-all group",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-primary-100 to-primary-200 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,s.jsx)("span",{className:"text-lg",children:"\uD83D\uDC57"})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("h4",{className:"font-medium text-neutral-dark text-sm group-hover:text-primary-600 truncate",children:e.name}),(0,s.jsxs)("p",{className:"text-xs text-neutral-medium",children:["NT$ ",e.price.toLocaleString()]})]})]},e.id))})]}),a.length>0&&(0,s.jsxs)("div",{className:"bg-white rounded-xl p-4 shadow-morandi",children:[(0,s.jsx)("h3",{className:"font-semibold text-neutral-dark mb-3",children:"已選擇的服裝"}),(0,s.jsx)("div",{className:"space-y-2",children:a.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-2 bg-neutral-cream rounded-lg",children:[(0,s.jsx)("span",{className:"text-sm text-neutral-dark",children:e.name}),(0,s.jsx)("button",{onClick:()=>L(e.id),className:"text-error hover:text-error/80 text-sm",children:"移除"})]},e.id))}),(0,s.jsx)("div",{className:"mt-3 pt-3 border-t border-neutral-light",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsx)("span",{className:"font-medium text-neutral-dark",children:"總計"}),(0,s.jsxs)("span",{className:"font-bold text-primary-600",children:["NT$ ",R.toLocaleString()]})]})})]})]}),(0,s.jsxs)("div",{className:"lg:col-span-3",children:[(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-morandi overflow-hidden",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-neutral-light",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("button",{onClick:()=>{p(e=>Math.max(e-.1,.5))},className:"w-8 h-8 bg-neutral-cream hover:bg-neutral-light rounded-lg flex items-center justify-center transition-colors",children:(0,s.jsx)(n,{className:"w-4 h-4 text-neutral-dark"})}),(0,s.jsxs)("span",{className:"text-sm text-neutral-medium px-2",children:[Math.round(100*h),"%"]}),(0,s.jsx)("button",{onClick:()=>{p(e=>Math.min(e+.1,2))},className:"w-8 h-8 bg-neutral-cream hover:bg-neutral-light rounded-lg flex items-center justify-center transition-colors",children:(0,s.jsx)(i,{className:"w-4 h-4 text-neutral-dark"})})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsxs)("button",{onClick:()=>{u([]),p(1),j({x:0,y:0})},className:"flex items-center space-x-2 px-3 py-1.5 bg-neutral-cream hover:bg-neutral-light rounded-lg text-sm text-neutral-dark transition-colors",children:[(0,s.jsx)(c,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"重設"})]}),(0,s.jsxs)("button",{onClick:()=>{alert("下載功能開發中...")},className:"flex items-center space-x-2 px-3 py-1.5 bg-primary-500 hover:bg-primary-600 text-white rounded-lg text-sm transition-colors",children:[(0,s.jsx)(d,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"下載"})]})]})]}),(0,s.jsx)("div",{ref:y,className:"relative h-96 lg:h-[600px] bg-gradient-to-b from-neutral-cream to-neutral-light overflow-hidden",onDragOver:C,onDrop:D,children:e?(0,s.jsxs)("div",{className:"relative w-full h-full flex items-center justify-center",style:{transform:"scale(".concat(h,") translate(").concat(g.x,"px, ").concat(g.y,"px)")},children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("img",{src:e,alt:"User photo",className:"max-w-full max-h-full object-contain rounded-lg shadow-lg",draggable:!1}),a.map((e,t)=>(0,s.jsx)("div",{className:"absolute inset-0 pointer-events-none",children:(0,s.jsx)("div",{className:"relative w-full h-full",children:(0,s.jsx)("div",{className:"absolute top-1/4 left-1/4 w-1/2 h-1/2 bg-primary-300/30 rounded-lg border-2 border-primary-500/50 flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-xs text-primary-600 font-medium",children:e.name})})})},"".concat(e.id,"-").concat(t)))]}),(0,s.jsx)("button",{onClick:()=>{var e;return null===(e=w.current)||void 0===e?void 0:e.click()},className:"absolute top-4 right-4 bg-white/90 hover:bg-white text-neutral-dark px-3 py-2 rounded-lg text-sm font-medium shadow-lg transition-all",children:"更換照片"})]}):(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(o,{className:"w-16 h-16 text-neutral-medium mx-auto mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-medium text-neutral-dark mb-2",children:"上傳你的照片開始試穿"}),(0,s.jsx)("p",{className:"text-neutral-medium mb-4",children:"拖拽照片到此處或點擊下方按鈕"}),(0,s.jsx)("button",{onClick:()=>{var e;return null===(e=w.current)||void 0===e?void 0:e.click()},className:"bg-primary-500 text-white px-6 py-3 rounded-lg font-medium hover:bg-primary-600 transition-colors",children:"選擇照片"}),(0,s.jsx)("input",{ref:w,type:"file",accept:"image/*",onChange:e=>{var a;let s=null===(a=e.target.files)||void 0===a?void 0:a[0];if(s){let e=new FileReader;e.onload=e=>{var a;t(null===(a=e.target)||void 0===a?void 0:a.result)},e.readAsDataURL(s)}},className:"hidden"})]})})})]}),e&&(0,s.jsxs)("div",{className:"mt-6 bg-white rounded-xl p-6 shadow-morandi",children:[(0,s.jsxs)("h3",{className:"font-semibold text-neutral-dark mb-3 flex items-center",children:[(0,s.jsx)(m,{className:"w-5 h-5 mr-2"}),"試穿小技巧"]}),(0,s.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[(0,s.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,s.jsx)("span",{className:"text-primary-500",children:"•"}),(0,s.jsx)("span",{className:"text-neutral-dark",children:"點擊左側服裝項目來添加到穿搭中"})]}),(0,s.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,s.jsx)("span",{className:"text-primary-500",children:"•"}),(0,s.jsx)("span",{className:"text-neutral-dark",children:"使用縮放控制項調整預覽大小"})]}),(0,s.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,s.jsx)("span",{className:"text-primary-500",children:"•"}),(0,s.jsx)("span",{className:"text-neutral-dark",children:"同類型服裝會自動替換（外套除外）"})]}),(0,s.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,s.jsx)("span",{className:"text-primary-500",children:"•"}),(0,s.jsx)("span",{className:"text-neutral-dark",children:"滿意的搭配可以儲存到我的最愛"})]})]})]})]})]})})]})}}},function(e){e.O(0,[8,971,117,744],function(){return e(e.s=5331)}),_N_E=e.O()}]);