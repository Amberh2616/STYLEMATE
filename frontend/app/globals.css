@tailwind base;
@tailwind components;
@tailwind utilities;

/* 自定義 CSS 變數 - 莫蘭迪色系 */
:root {
  /* 主色調 - 紫色系莫蘭迪風格 */
  --primary-purple: #8B7CC8;
  --primary-deep: #6B5D8C;
  --primary-light: #AEA4D6;

  /* 輔助色調 - 灰色系 */
  --secondary-warm: #A8A5A0;
  --secondary-cool: #9B9B9B;
  --secondary-deep: #6B6B6B;

  /* 中性色調 - 莫蘭迪基調 */
  --neutral-cream: #F5F4F2;
  --neutral-white: #FEFEFE;
  --neutral-light: #E8E6E3;
  --neutral-medium: #B8B5B2;
  --neutral-dark: #3A3A3A;

  /* 功能色調 - 莫蘭迪調和 */
  --success: #7A9B7E;
  --warning: #C4A661;
  --error: #B07A7A;
  --info: #7A93B0;
}

/* 基礎樣式 */
* {
  box-sizing: border-box;
  padding: 0;
  margin: 0;
}

html,
body {
  max-width: 100vw;
  overflow-x: hidden;
  font-family: 'Noto Sans CJK TC', 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
  background-color: var(--neutral-cream);
  color: var(--neutral-dark);
}

/* 莫蘭迪漸層背景類 */
.gradient-main {
  background: linear-gradient(135deg, var(--primary-purple) 0%, var(--secondary-warm) 100%);
}

.gradient-card {
  background: linear-gradient(145deg, var(--neutral-white) 0%, var(--neutral-cream) 100%);
}

.gradient-button {
  background: linear-gradient(45deg, var(--primary-purple) 0%, var(--primary-deep) 100%);
}

.gradient-soft {
  background: linear-gradient(180deg, rgba(139,124,200,0.1) 0%, rgba(168,165,160,0.05) 100%);
}

/* 自定義按鈕樣式 */
.btn-primary {
  @apply bg-gradient-to-r from-primary-500 to-primary-600 text-white font-medium py-3 px-6 rounded-lg shadow-morandi transition-all duration-200 ease-in-out;
}

.btn-primary:hover {
  @apply transform -translate-y-0.5 shadow-morandi-lg;
}

.btn-secondary {
  @apply bg-transparent text-primary-500 border-2 border-primary-500 font-medium py-3 px-6 rounded-lg transition-all duration-200 ease-in-out;
}

.btn-secondary:hover {
  @apply bg-primary-500 text-white;
}

/* 自定義卡片樣式 */
.card {
  @apply bg-white rounded-xl p-6 shadow-morandi transition-all duration-300 ease-in-out border border-primary-100;
}

.card:hover {
  @apply transform -translate-y-1 shadow-morandi-lg;
}

/* 自定義輸入框樣式 */
.input {
  @apply w-full px-4 py-3 border-2 border-neutral-light rounded-lg text-base transition-all duration-200 ease-in-out bg-white;
}

.input:focus {
  @apply outline-none border-primary-500 shadow-[0_0_0_3px_rgba(139,124,200,0.1)];
}

/* 自定義複選框樣式 */
.checkbox {
  @apply appearance-none w-6 h-6 border-2 border-neutral-light rounded bg-white relative cursor-pointer transition-all duration-200 ease-in-out;
}

.checkbox:checked {
  @apply bg-gradient-to-r from-primary-500 to-primary-600 border-primary-500;
}

.checkbox:checked::after {
  content: "✓";
  @apply absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-white font-bold;
}

/* 上傳區域樣式 */
.upload-zone {
  @apply border-2 border-dashed border-primary-300 rounded-xl p-12 text-center bg-gradient-to-br from-primary-50 to-secondary-50 transition-all duration-300 ease-in-out;
}

.upload-zone:hover {
  @apply border-primary-500 bg-gradient-to-br from-primary-100 to-secondary-100;
}

.upload-zone.dragover {
  @apply border-primary-500 transform scale-[1.02] shadow-morandi-lg;
}

/* 載入動畫 - 莫蘭迪愛心 */
.loading-heart {
  @apply w-10 h-10 relative animate-heartbeat;
}

.loading-heart::before,
.loading-heart::after {
  content: "";
  @apply w-5 h-8 absolute bg-gradient-to-r from-primary-500 to-primary-600 rounded-t-full;
  transform: rotate(-45deg);
  transform-origin: 0 100%;
}

.loading-heart::after {
  @apply left-0;
  transform: rotate(45deg);
  transform-origin: 100% 100%;
}

/* 成功狀態動畫 */
.success-check {
  @apply w-15 h-15 rounded-full relative;
  background: var(--success);
  animation: success-pop 0.6s ease;
}

.success-check::after {
  content: "";
  @apply absolute border-white border-b-2 border-r-2;
  top: 18px;
  left: 22px;
  width: 16px;
  height: 8px;
  transform: rotate(45deg);
  animation: check-draw 0.4s ease 0.2s forwards;
  opacity: 0;
}

@keyframes success-pop {
  0% { transform: scale(0); }
  50% { transform: scale(1.1); }
  100% { transform: scale(1); }
}

@keyframes check-draw {
  to { opacity: 1; }
}

/* 響應式字體 */
@media (max-width: 768px) {
  .text-hero { @apply text-3xl; }
  .text-h1 { @apply text-2xl; }
  .text-h2 { @apply text-xl; }
  .text-h3 { @apply text-lg; }
  .text-body { @apply text-sm; }
}

/* 滾動條樣式 */
::-webkit-scrollbar {
  @apply w-2;
}

::-webkit-scrollbar-track {
  @apply bg-neutral-light rounded-full;
}

::-webkit-scrollbar-thumb {
  @apply bg-secondary-400 rounded-full;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-primary-400;
}

/* 選取文字樣式 */
::selection {
  @apply bg-primary-300 text-primary-900;
}

/* 額外的實用工具類 */
.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.line-clamp-3 {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Glass morphism 效果 */
.glass {
  @apply bg-white/20 backdrop-blur-lg border border-white/30;
}

/* 模糊效果背景 */
.backdrop-blur-morandi {
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
}

/* 移動端觸控優化 */
@media (hover: none) and (pointer: coarse) {
  .hover\:scale-105:hover {
    transform: none;
  }
  
  .hover\:-translate-y-1:hover {
    transform: none;
  }
  
  .hover\:-translate-y-2:hover {
    transform: none;
  }
}