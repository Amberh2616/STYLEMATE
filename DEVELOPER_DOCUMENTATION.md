# STYLEMATE é–‹ç™¼è€…æ–‡æª”

## å°ˆæ¡ˆæ¦‚è¿°

STYLEMATE æ˜¯ä¸€å€‹éŸ“åœ‹æœè£è™›æ“¬è©¦ç©¿å¹³å°ï¼Œå…è¨±ç”¨æˆ¶ä¸Šå‚³å…¨èº«ç…§ç‰‡ä¸¦é€šé 2D ç–ŠåŠ æŠ€è¡“é«”é©—ä¸åŒæœè£çš„è©¦ç©¿æ•ˆæœã€‚

### æ ¸å¿ƒåŠŸèƒ½
- **é¢¨æ ¼åå¥½åˆ†æ**ï¼šåŸºæ–¼ç”¨æˆ¶è¼¸å…¥ï¼ˆK-popé¢¨ã€æ—¥å¸¸ç©¿æ­ç­‰ï¼‰é€²è¡Œ AI é¸å“
- **2D è™›æ“¬è©¦ç©¿**ï¼šå°‡ç”¨æˆ¶å…¨èº«ç…§ç‰‡èˆ‡æœè£åœ–ç‰‡é€²è¡Œ 2D ç–ŠåŠ åˆæˆ
- **å€‹äººåŒ–æ¨è–¦**ï¼šæ ¹æ“šé¢¨æ ¼åå¥½æ¨è–¦éŸ“åœ‹æœè£å•†å“
- **ä¸€ç«™å¼è³¼ç‰©**ï¼šåŒ…å«å•†å“ç€è¦½ã€è™›æ“¬è©¦ç©¿ã€çµå¸³æµç¨‹

### æŠ€è¡“æ¶æ§‹

```mermaid
graph TB
    subgraph "å‰ç«¯é é¢æµç¨‹ (Next.js + Tailwind CSS)"
        A[ç™»å…¥è¨»å†Šé ] --> B[æœƒå“¡è³‡æ–™è¨­å®šé ]
        B --> C[é¦–é å°èˆª]
        C --> D[AIå°è©±æ¨è–¦é ]
        D --> E[å•†å“ç€è¦½é ]
        D --> F[è™›æ“¬è©¦ç©¿é ]
        E --> G[çµå¸³é ]
        F --> G
    end
    
    subgraph "å¾Œç«¯æœå‹™ (Node.js)"
        H[ç”¨æˆ¶èªè­‰æœå‹™] --> M[è³‡æ–™åº«]
        I[AIæ¨è–¦æœå‹™] --> N[AIæ¨¡å‹]
        J[è™›æ“¬è©¦ç©¿API] --> O[åœ–ç‰‡å„²å­˜]
        K[å•†å“ç›®éŒ„æœå‹™] --> M
        L[çµå¸³æœå‹™] --> P[æ”¯ä»˜ç¶²é—œ]
    end
    
    A -.->|REST API| H
    D -.->|REST API| I
    F -.->|REST API| J
    E -.->|REST API| K
    G -.->|REST API| L
```

### é é¢è¦åŠƒèˆ‡é–‹ç™¼ç‹€æ…‹

| é é¢ | è·¯å¾‘ | åŠŸèƒ½æè¿° | é–‹ç™¼ç‹€æ…‹ |
|------|------|----------|----------|
| **ç¬¬1é ** | `/auth` | ç™»å…¥è¨»å†Šé é¢ | âœ… å·²å®Œæˆ |
| **ç¬¬2é ** | `/profile` | æœƒå“¡è³‡æ–™è¨­å®šé  | âŒ å¾…é–‹ç™¼ |
| **ç¬¬3é ** | `/` | é¦–é å°èˆªä¸­å¿ƒ | ğŸ”„ éœ€èª¿æ•´ |
| **ç¬¬4é ** | `/chat` | AIå°è©±æ¨è–¦é  | âŒ å¾…é–‹ç™¼ |
| **ç¬¬5é ** | `/products` | å•†å“ç€è¦½é  | âœ… å·²å®Œæˆ |
| **ç¬¬6é ** | `/tryon` | è™›æ“¬è©¦ç©¿é  | ğŸ”„ åŸºæœ¬å®Œæˆ |
| **ç¬¬7é ** | `/checkout` | çµå¸³é é¢ | âŒ å¾…é–‹ç™¼ |

## ç³»çµ±éœ€æ±‚

### é–‹ç™¼ç’°å¢ƒ
- **Node.js**: >= 16.0.0
- **MongoDB**: >= 4.4
- **Sharp**: ^0.33.0 (åœ–åƒè™•ç†)
- **Next.js**: >= 13.0.0
- **Tailwind CSS**: >= 3.0.0

### ç”Ÿç”¢ç’°å¢ƒ
- **é›²ç«¯å„²å­˜**: AWS S3 æˆ– Cloudinary
- **è³‡æ–™åº«**: MongoDB Atlas
- **éƒ¨ç½²å¹³å°**: Vercel (å‰ç«¯) + Railway/Heroku (å¾Œç«¯)
- **CDN**: CloudFront æˆ– Cloudinary

## å°ˆæ¡ˆçµæ§‹

```
STYLEMATE/
â”œâ”€â”€ frontend/                 # Next.js å‰ç«¯æ‡‰ç”¨
â”‚   â”œâ”€â”€ app/                 # Next.js 13+ App Router
â”‚   â”‚   â”œâ”€â”€ layout.tsx      # æ ¹å¸ƒå±€
â”‚   â”‚   â”œâ”€â”€ page.tsx        # é¦–é å°èˆª
â”‚   â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx    # ç™»å…¥è¨»å†Šé 
â”‚   â”‚   â”œâ”€â”€ profile/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx    # æœƒå“¡è³‡æ–™è¨­å®šé 
â”‚   â”‚   â”œâ”€â”€ chat/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx    # AIå°è©±æ¨è–¦é 
â”‚   â”‚   â”œâ”€â”€ products/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx    # å•†å“ç€è¦½é 
â”‚   â”‚   â”œâ”€â”€ tryon/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx    # è™›æ“¬è©¦ç©¿é 
â”‚   â”‚   â””â”€â”€ checkout/
â”‚   â”‚       â””â”€â”€ page.tsx    # çµå¸³é 
â”‚   â”œâ”€â”€ components/          # React çµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ ui/             # åŸºç¤UIçµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ forms/          # è¡¨å–®çµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ chat/           # èŠå¤©ç›¸é—œçµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ canvas/         # ç•«å¸ƒçµ„ä»¶
â”‚   â”‚   â””â”€â”€ layout/         # ç‰ˆé¢çµ„ä»¶
â”‚   â”œâ”€â”€ lib/                # å·¥å…·å‡½æ•¸
â”‚   â”œâ”€â”€ store/              # ç‹€æ…‹ç®¡ç†
â”‚   â”œâ”€â”€ types/              # TypeScript é¡å‹
â”‚   â”œâ”€â”€ styles/             # å…¨åŸŸæ¨£å¼
â”‚   â””â”€â”€ public/             # éœæ…‹è³‡æº
â”œâ”€â”€ backend/                # Node.js å¾Œç«¯æœå‹™
â”‚   â”œâ”€â”€ routes/             # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ recommendations.js # æ¨è–¦æœå‹™
â”‚   â”‚   â”œâ”€â”€ virtual-tryon.js   # è™›æ“¬è©¦ç©¿
â”‚   â”‚   â”œâ”€â”€ products.js        # å•†å“æœå‹™
â”‚   â”‚   â”œâ”€â”€ checkout.js        # çµå¸³æœå‹™
â”‚   â”‚   â””â”€â”€ users.js           # ç”¨æˆ¶æœå‹™
â”‚   â”œâ”€â”€ models/             # è³‡æ–™æ¨¡å‹
â”‚   â”œâ”€â”€ middleware/         # ä¸­é–“ä»¶
â”‚   â”œâ”€â”€ services/           # æ¥­å‹™é‚è¼¯
â”‚   â””â”€â”€ utils/              # å·¥å…·å‡½æ•¸
â”œâ”€â”€ image-processing/       # åœ–åƒè™•ç†æ¨¡çµ„
â”‚   â”œâ”€â”€ image-processor.js
â”‚   â”œâ”€â”€ virtual-tryOn-processor.js
â”‚   â””â”€â”€ image-utils.js
â”œâ”€â”€ database/              # è³‡æ–™åº«é…ç½®å’Œé·ç§»
â”œâ”€â”€ docs/                  # æ–‡æª”
â””â”€â”€ tests/                 # æ¸¬è©¦æ–‡ä»¶
```

## é–‹ç™¼æµç¨‹

### 1. ç’°å¢ƒè¨­ç½®
```bash
# å…‹éš†å°ˆæ¡ˆ
git clone <repository-url>
cd STYLEMATE

# å®‰è£ä¾è³´
npm install

# è¨­ç½®ç’°å¢ƒè®Šæ•¸
cp .env.example .env.local
```

### 2. è³‡æ–™åº«è¨­ç½®
```bash
# å•Ÿå‹• MongoDB
mongod

# åˆå§‹åŒ–è³‡æ–™åº«
npm run db:seed
```

### 3. é–‹ç™¼ä¼ºæœå™¨
```bash
# å•Ÿå‹•å‰ç«¯é–‹ç™¼ä¼ºæœå™¨
npm run dev:frontend

# å•Ÿå‹•å¾Œç«¯é–‹ç™¼ä¼ºæœå™¨
npm run dev:backend
```

### 4. æ¸¬è©¦
```bash
# é‹è¡Œæ‰€æœ‰æ¸¬è©¦
npm test

# é‹è¡Œç‰¹å®šæ¸¬è©¦
npm test -- --grep "è™›æ“¬è©¦ç©¿"
```

## æ ¸å¿ƒæ¨¡çµ„è©³ç´°èªªæ˜

### ç”¨æˆ¶é«”é©—æµç¨‹

1. **ç”¨æˆ¶è¨»å†Šç™»å…¥** (`/auth`)
   - ç¤¾äº¤ç™»å…¥æˆ–å‚³çµ±è¨»å†Šæ–¹å¼
   - ä¸‰æ­¥é©Ÿè¨»å†Šæµç¨‹ï¼šåŸºæœ¬è³‡æ–™ â†’ èº«æè³‡æ–™ â†’ åˆæ­¥é¢¨æ ¼åå¥½

2. **è©³ç´°æœƒå“¡è³‡æ–™è¨­å®š** (`/profile`)
   - å®Œæ•´èº«æè³‡æ–™ï¼ˆèº«é«˜ã€é«”é‡ã€ä¸‰åœç­‰ï¼‰
   - è©³ç´°é¢¨æ ¼åå¥½è¨­å®šï¼ˆç”œç¾ã€å„ªé›…ã€è¡—é ­ç­‰ï¼‰
   - ä¸Šå‚³å…¨èº«ç…§ç‰‡ï¼ˆæ­£é¢ã€è‰¯å¥½å…‰ç·šã€æ¸…æ™°èƒŒæ™¯ï¼‰
   - é ç®—ç¯„åœè¨­å®š

3. **é¦–é å°èˆª** (`/`)
   - æ­¡è¿ç”¨æˆ¶ä¸¦é¡¯ç¤ºå€‹äººè³‡è¨Šæ‘˜è¦
   - å°èˆªåˆ°å„ä¸»è¦åŠŸèƒ½é é¢
   - å¿«é€Ÿå­˜å–å¸¸ç”¨åŠŸèƒ½

4. **AI æ™ºèƒ½æ¨è–¦å°è©±** (`/chat`)
   - AI æ ¹æ“šç”¨æˆ¶è³‡æ–™æ¨è–¦åˆé©å•†å“
   - äº’å‹•å¼å°è©±ä»‹é¢ï¼ˆå–œæ­¡/ä¸å–œæ­¡/è©¢å•è©³æƒ…ï¼‰
   - ç”¨æˆ¶é¸æ“‡å•†å“å¾Œå¯ä¸Šå‚³æ–°ç…§ç‰‡
   - **å³æ™‚ç”Ÿæˆè©¦ç©¿åˆæˆåœ–**ï¼ˆå•†å“+ç”¨æˆ¶ç…§ç‰‡ï¼‰
   - å„²å­˜ã€åˆ†äº«è©¦ç©¿çµæœ

5. **å•†å“ç€è¦½èˆ‡æ¢ç´¢** (`/products`)
   - ç€è¦½å®Œæ•´å•†å“ç›®éŒ„
   - é€²éšç¯©é¸å’Œæ’åºåŠŸèƒ½
   - å•†å“è©³æƒ…æª¢è¦–
   - ç›´æ¥è©¦ç©¿æˆ–åŠ å…¥è³¼ç‰©è»Š

6. **è™›æ“¬è©¦ç©¿é«”é©—** (`/tryon`)
   - 2D è™›æ“¬è©¦ç©¿ç•«å¸ƒ
   - æ‰‹å‹•èª¿æ•´è©¦ç©¿æ•ˆæœ
   - å¤šè§’åº¦æª¢è¦–
   - å„²å­˜è©¦ç©¿è¨˜éŒ„

7. **çµå¸³è³¼è²·æµç¨‹** (`/checkout`)
   - è³¼ç‰©è»Šç®¡ç†
   - çµå¸³è¡¨å–®å¡«å¯«
   - ä»˜æ¬¾è™•ç†
   - è¨‚å–®ç¢ºèª

## æŠ€è¡“ç‰¹è‰²

### åœ–åƒè™•ç†æŠ€è¡“
- **Sharp.js** é«˜æ•ˆèƒ½åœ–åƒè™•ç†
- **2D ç–ŠåŠ ç®—æ³•** å¯¦ç¾è™›æ“¬è©¦ç©¿æ•ˆæœ
- **è‡ªå‹•å°é½Šç³»çµ±** æ ¹æ“šæœè£é¡å‹æ™ºèƒ½èª¿æ•´ä½ç½®
- **æ‰¹æ¬¡è™•ç†èƒ½åŠ›** æ”¯æŒå¤§é‡åœ–åƒåŒæ™‚è™•ç†

### AI æ¨è–¦ç³»çµ±
- **æ¨™ç±¤åŒ¹é…ç®—æ³•** åŸºæ–¼é¢¨æ ¼åå¥½æ¨è–¦
- **å”åŒéæ¿¾** æ ¹æ“šç›¸ä¼¼ç”¨æˆ¶è¡Œç‚ºæ¨è–¦
- **å…§å®¹éæ¿¾** åŸºæ–¼å•†å“ç‰¹å¾µæ¨è–¦
- **å¯¦æ™‚å­¸ç¿’** æ ¹æ“šç”¨æˆ¶åé¥‹èª¿æ•´æ¨è–¦

### è³‡æ–™ç®¡ç†
- **MongoDB** éˆæ´»çš„æ–‡æª”è³‡æ–™åº«
- **é›²ç«¯å„²å­˜** é«˜æ•ˆç‡åœ–ç‰‡å­˜å„²èˆ‡ CDN
- **å¿«å–ç­–ç•¥** Redis å¿«å–ç†±é–€å•†å“
- **è³‡æ–™åŒæ­¥** å¯¦æ™‚æ›´æ–°åº«å­˜èˆ‡åƒ¹æ ¼

## å®‰å…¨æ€§è€ƒé‡

### åœ–ç‰‡ä¸Šå‚³å®‰å…¨
- æª”æ¡ˆé¡å‹é™åˆ¶ï¼ˆJPEG, PNG, WebPï¼‰
- æª”æ¡ˆå¤§å°é™åˆ¶ï¼ˆæœ€å¤§ 10MBï¼‰
- æƒ¡æ„æª”æ¡ˆæƒæ
- åœ–ç‰‡å…§å®¹å¯©æ ¸

### è³‡æ–™ä¿è­·
- ç”¨æˆ¶ç…§ç‰‡åŠ å¯†å„²å­˜
- GDPR åˆè¦è³‡æ–™è™•ç†
- å®šæœŸè³‡æ–™æ¸…ç†æ©Ÿåˆ¶
- æ•æ„Ÿè³‡è¨Šè„«æ•

### API å®‰å…¨
- JWT èº«ä»½é©—è­‰
- Rate Limiting é˜²è­·
- CORS è·¨åŸŸä¿è­·
- SQL æ³¨å…¥é˜²è­·

## æ•ˆèƒ½å„ªåŒ–

### å‰ç«¯å„ªåŒ–
- åœ–ç‰‡æ‡¶åŠ è¼‰
- ç¨‹å¼ç¢¼åˆ†å‰²
- CDN è³‡æºåˆ†ç™¼
- ç€è¦½å™¨å¿«å–

### å¾Œç«¯å„ªåŒ–
- è³‡æ–™åº«ç´¢å¼•å„ªåŒ–
- åœ–åƒè™•ç†å¿«å–
- API éŸ¿æ‡‰å¿«å–
- è² è¼‰å¹³è¡¡

## éƒ¨ç½²æŒ‡å—

### ç’°å¢ƒé…ç½®
```bash
# ç”Ÿç”¢ç’°å¢ƒè®Šæ•¸
NODE_ENV=production
MONGODB_URI=mongodb+srv://...
CLOUDINARY_URL=cloudinary://...
STRIPE_SECRET_KEY=sk_live_...
```

### Docker éƒ¨ç½²
```dockerfile
# ä½¿ç”¨å®˜æ–¹ Node.js é¡åƒ
FROM node:16-alpine

# è¨­ç½®å·¥ä½œç›®éŒ„
WORKDIR /app

# å®‰è£ä¾è³´
COPY package*.json ./
RUN npm ci --only=production

# è¤‡è£½ç¨‹å¼ç¢¼
COPY . .

# æ§‹å»ºæ‡‰ç”¨
RUN npm run build

# æš´éœ²ç«¯å£
EXPOSE 3000

# å•Ÿå‹•æ‡‰ç”¨
CMD ["npm", "start"]
```

## é–‹ç™¼æª¢æŸ¥æ¸…å–®

### é é¢é–‹ç™¼é€²åº¦
- [x] **ç¬¬1é  - ç™»å…¥è¨»å†Šé ** (`/auth`)
  - [x] ç¤¾äº¤ç™»å…¥åŠŸèƒ½
  - [x] ä¸‰æ­¥é©Ÿè¨»å†Šæµç¨‹
  - [x] è¡¨å–®é©—è­‰
- [ ] **ç¬¬2é  - æœƒå“¡è³‡æ–™è¨­å®šé ** (`/profile`)
  - [ ] è©³ç´°èº«æè³‡æ–™è¡¨å–®
  - [ ] é¢¨æ ¼åå¥½è¨­å®šä»‹é¢
  - [ ] ç…§ç‰‡ä¸Šå‚³åŠŸèƒ½
  - [ ] è³‡æ–™å„²å­˜èˆ‡æ›´æ–°
- [ ] **ç¬¬3é  - é¦–é å°èˆª** (`/`)
  - [ ] ç”¨æˆ¶æ­¡è¿ä»‹é¢
  - [ ] åŠŸèƒ½å°èˆªé¸å–®
  - [ ] å€‹äººè³‡è¨Šæ‘˜è¦
- [ ] **ç¬¬4é  - AIå°è©±æ¨è–¦é ** (`/chat`)
  - [ ] AI å°è©±ä»‹é¢è¨­è¨ˆ
  - [ ] å•†å“æ¨è–¦é‚è¼¯
  - [ ] ç”¨æˆ¶äº’å‹•åŠŸèƒ½
  - [ ] è©¦ç©¿åœ–åˆæˆæ•´åˆ
- [x] **ç¬¬5é  - å•†å“ç€è¦½é ** (`/products`)
  - [x] å•†å“ç¶²æ ¼å±•ç¤º
  - [x] ç¯©é¸æ’åºåŠŸèƒ½
  - [x] æ”¶è—åŠŸèƒ½
- [ ] **ç¬¬6é  - è™›æ“¬è©¦ç©¿é ** (`/tryon`)
  - [x] åŸºæœ¬2Dè©¦ç©¿ç•«å¸ƒ
  - [ ] åœ–ç‰‡åˆæˆå„ªåŒ–
  - [ ] èª¿æ•´å·¥å…·å®Œå–„
- [ ] **ç¬¬7é  - çµå¸³é ** (`/checkout`)
  - [ ] è³¼ç‰©è»Šç®¡ç†
  - [ ] çµå¸³è¡¨å–®
  - [ ] ä»˜æ¬¾æ•´åˆ

### æ ¸å¿ƒåŠŸèƒ½å®Œæ•´æ€§
- [ ] ç”¨æˆ¶èªè­‰èˆ‡æˆæ¬Š
- [ ] å€‹äººè³‡æ–™ç®¡ç†
- [ ] AI æ™ºèƒ½æ¨è–¦
- [ ] 2D è™›æ“¬è©¦ç©¿åŠŸèƒ½
- [ ] å•†å“ç€è¦½å’Œç¯©é¸
- [ ] è³¼ç‰©è»ŠåŠŸèƒ½
- [ ] çµå¸³æµç¨‹å®Œæ•´

### æ•ˆèƒ½å„ªåŒ–
- [ ] åœ–ç‰‡æ‡¶è¼‰å…¥å¯¦ç¾
- [ ] API è«‹æ±‚å¿«å–
- [ ] çµ„ä»¶ç¨‹å¼ç¢¼åˆ†å‰²
- [ ] éœæ…‹è³‡æºå„ªåŒ–

### ç”¨æˆ¶é«”é©—
- [ ] éŸ¿æ‡‰å¼è¨­è¨ˆé©é…
- [ ] è¼‰å…¥ç‹€æ…‹åé¥‹
- [ ] éŒ¯èª¤è™•ç†é¡¯ç¤º
- [ ] æˆåŠŸæ“ä½œæç¤º

### ç¨‹å¼ç¢¼å“è³ª
- [ ] TypeScript é¡å‹å®Œæ•´
- [ ] ESLint è¦å‰‡é€šé
- [ ] å–®å…ƒæ¸¬è©¦è¦†è“‹ç‡ > 80%
- [ ] çµ„ä»¶æ–‡æª”å®Œæ•´

### å®‰å…¨æ€§
- [ ] XSS é˜²è­·
- [ ] CSRF ä¿è­·
- [ ] åœ–ç‰‡ä¸Šå‚³å®‰å…¨æª¢æŸ¥
- [ ] API è«‹æ±‚é©—è­‰

## ç›£æ§èˆ‡ç¶­è­·

### æ‡‰ç”¨ç›£æ§
- **éŒ¯èª¤è¿½è¹¤**: Sentry éŒ¯èª¤ç›£æ§
- **æ•ˆèƒ½ç›£æ§**: New Relic æ‡‰ç”¨æ•ˆèƒ½
- **æ—¥èªŒç®¡ç†**: Winston çµæ§‹åŒ–æ—¥èªŒ
- **å¥åº·æª¢æŸ¥**: å®šæœŸæœå‹™ç‹€æ…‹æª¢æŸ¥

### è³‡æ–™ç›£æ§
- **è³‡æ–™åº«æ•ˆèƒ½**: MongoDB Compass ç›£æ§
- **å„²å­˜ä½¿ç”¨**: é›²ç«¯å„²å­˜ç”¨é‡è¿½è¹¤
- **API ä½¿ç”¨**: è«‹æ±‚é »ç‡èˆ‡éŸ¿æ‡‰æ™‚é–“
- **ç”¨æˆ¶è¡Œç‚º**: Google Analytics è¿½è¹¤

---

## å¿«é€Ÿé–‹å§‹

1. å…‹éš†å°ˆæ¡ˆä¸¦å®‰è£ä¾è³´
2. è¨­ç½®ç’°å¢ƒè®Šæ•¸
3. åˆå§‹åŒ–è³‡æ–™åº«
4. å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨
5. ç€è¦½ http://localhost:3000

è©³ç´°çš„æ¨¡çµ„æ–‡æª”è«‹åƒè€ƒä»¥ä¸‹å„ç« ç¯€ã€‚